{
    "Sample": {
      "Title": "Add authorization using app roles & roles claims to Java servlet Web app that signs-in users with the Microsoft identity platform",
      "Level": 100,
      "Client": "Java Servlet web app",
      "RepositoryUrl": "ms-identity-java-servlet-webapp-roles",
      "Endpoint": "AAD v2.0"
    },
    "AADApps": [
      {
        "Id": "webApp",
        "Name": "java-servlet-webapp-authentication",
        "Kind": "WebApp",
        "Audience": "AzureADMyOrg",
        "PasswordCredentials": "Auto",
        "AllowImplicitFlow": false,
        "HomePage": "http://localhost:8080/ms-identity-java-servlet-webapp-roles/index",
        "ReplyUrls": "http://localhost:8080/ms-identity-java-servlet-webapp-roles/auth/redirect",
        "RequiredResourcesAccess": [],
        "AppRoles": [
        {
          "Types": [ "User" ],
          "Name": "PrivilegedAdmin",
          "Description": "PrivilegedAdmins who can view the Admin Page"
        },
        {
          "Types": [ "User" ],
          "Name": "RegularUser",
          "Description": "RegularUsers who can view the User Page"
        }
      ],
      "ManualSteps": [
        { "Comment": "To receive the `roles` claim with the name of the app roles this user is assigned to, make sure that the user accounts you plan to sign-in to this app is assigned to the app roles of this service instance. The guide, https://aka.ms/userassignmentrequired provides step by step instructions." },
        { "Comment": "Or you can run the ..\\CreateUsersAndAssignRoles.ps1 command to automatically create a number of users, and assign these users to the app roles of this app." }
      ]
      }
    ],
    "CodeConfiguration": [
      {
        "App": "webApp",
        "SettingKind": "Replace",
        "SettingFile": "\\..\\src\\main\\resources\\authentication.properties",
        "Mappings": [
          {
            "key": "{enter-your-tenant-id-here}",
            "value": "$tenantId"
          },
          {
            "key": "{enter-your-client-id-here}",
            "value": "webApp.AppId"
          },
          {
            "key": "{enter-your-client-secret-here}",
            "value": ".AppKey"
          }
        ]
      }
    ]
  }